# MAT分析工具

[下载地址](http://www.eclipse.org/mat/downloads.php)

> 这里最好 下载linux版本的，因为一般分析这种问题，hprof文件都会非常大，如果从服务器下载下来会非常缓慢。

## 操作步骤

1. 定位CPU高的进程编号
2. jmap -dump:format=b,file=dump.hprof 15889 [pid]    // 生成hprof 文件

```tex
cd mat
./ParseHeapDump.sh /elab/spring-boot/logs/start-logs/dump_bak.hprof(hprof文件地址)  org.eclipse.mat.api:suspects org.eclipse.mat.api:overview org.eclipse.mat.api:top_components

// 预计五分钟左右...
```

> 该命令主要作用：会把堆栈信息进行编译处理，最终我们关心的是3个.zip的文件，把这三个文件下载到本机，解压后打开这个目录Leak_Suspects下的index.html文件，即可看到错误问题 