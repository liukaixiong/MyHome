# 接口大文本数据导致传输缓慢



线上有个接口告警了，显示是耗时引起的。

查看日志发现业务操作都没啥问题,就是最后业务已经结束的时候被捕捉到了,这部分代码已经不再业务处理范围了。

![image-20210901111717864](https://gitee.com/liukaixiong/drawing-bed/raw/master/image/image-20210901111717864.png)

从上层网关去看的话，发现这个业务接口的出参结果很大。



后面从日志中抓去了接口路径、参数通过HTTP去模拟访问发现

![image-20210901112009395](https://gitee.com/liukaixiong/drawing-bed/raw/master/image/image-20210901112009395.png)

出参结果达到7M多，这就很头疼了。

大概猜到就是由于大文本数据大文本数据导致出网流量缓慢，但是还不是特别确定，这个时候想到一个办法，就是模拟的时候，在拿到请求结果之前先中断请求，这个是否服务器会抛出一个

` java.io.IOException: Broken pipe org.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe`

中断异常，而这个异常栈会清晰的显示出数据卡在那部分代码；



